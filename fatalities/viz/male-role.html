<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Male Fatalities by Age by Role, 2003-2018</title>

    <style>
      html, body {
        overflow: hidden;
      }

      #container {
        height: 100vh;
        width: 100%;
        margin: 0;
        padding: 0;
      }
    </style>
  </head>

  <body>
    <div id="container"></div>

    <pre id="csv" style="display: none">
      Age,Bicyclist,Driver,Passenger,Pedestrian
      0,,,,1
      1,,,,1
      2,,,,2
      3,,,,4
      4,,,1,3
      5,,,1,2
      6,,,2,
      7,,1,1,
      8,,1,,2
      9,,,1,1
      11,,2,,
      12,,2,,2
      13,,2,1,
      14,1,5,,5
      15,,6,,2
      16,,16,1,2
      17,,30,2,5
      18,,56,4,6
      19,,60,4,7
      20,1,60,9,13
      21,,83,3,12
      22,,97,3,2
      23,,66,1,5
      24,,75,1,8
      25,,59,2,7
      26,,67,3,3
      27,,55,,3
      28,,54,4,3
      29,,53,2,4
      30,,33,1,3
      31,,40,,2
      32,,54,3,2
      33,,41,,4
      34,,21,1,9
      35,,44,,1
      36,,51,1,5
      37,,44,2,5
      38,,34,,11
      39,,34,1,3
      40,,44,1,7
      41,,29,,6
      42,1,35,,1
      43,,50,2,9
      44,,29,,8
      45,,33,1,5
      46,,48,,8
      47,,44,,6
      48,1,45,2,6
      49,1,48,,8
      50,,48,1,8
      51,,46,,10
      52,,39,2,7
      53,1,43,,7
      54,,28,,7
      55,1,39,,4
      56,1,32,,7
      57,1,32,,6
      58,,29,1,9
      59,,20,,8
      60,,25,,5
      61,,21,1,5
      62,,19,,3
      63,1,23,,8
      64,,24,,9
      65,,16,1,8
      66,,17,2,
      67,,16,1,5
      68,,16,1,6
      69,1,9,,5
      70,,9,,4
      71,,13,,2
      72,1,12,,3
      73,,11,,3
      74,,6,1,5
      75,,9,,5
      76,,14,,5
      77,,6,,6
      78,,17,,2
      79,,15,,5
      80,,12,,3
      81,,6,,7
      82,,16,,2
      83,,9,1,5
      84,,10,,2
      85,,12,,4
      86,,8,,4
      87,,6,,2
      88,,7,,5
      89,,3,1,4
      90,,7,,2
      91,,1,2,1
      92,,5,,
      93,,2,,1
      94,,1,,
      95,,,,1
      100,,1,,
    </pre>

    <script src="https://code.highcharts.com/highcharts.js"></script>
    <script src="https://code.highcharts.com/modules/data.js"></script>
    <script src="https://rawgithub.com/phpepe/highcharts-regression/master/highcharts-regression.js?8"></script>

    <script>

    Highcharts.chart('container', {
      chart: {
        type: 'column',
        style: {
          fontFamily: 'Arial',
        }
      },
      credits: {
        enabled: false,
      },
      title: {
        text: 'Male Crash Fatalities by Age by Role in 2003-2017'
      },
      subtitle: {
        text: 'Source: UCONN Crash Data'
      },
      xAxis: {
        categories: [],
        crosshair: true
      },
      yAxis: {
        min: 0,
        title: {
          text: 'Fatalities'
        }
      },
      data: {
        csv: document.getElementById('csv').innerHTML
      },
      tooltip: {
        headerFormat: 'Age <b>{point.x}</b> Male Fatalities:',
        pointFormat: '<br><br> {point.y} {series.name}',
        valueDecimals: 0,
        shared: true,
      },
      plotOptions: {
        column: {
          pointPadding: 0,
          borderWidth: 0,
          groupPadding: 0.1,
          stacking: 'normal'
        }
      },
      series: [{color: '#fbb4ae'}, {color: '#b3cde3'}, {color: '#ccebc5'}, {color: '#decbe4'}]
    });
    </script>


  </body>
</html>
